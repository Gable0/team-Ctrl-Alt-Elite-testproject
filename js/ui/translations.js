export const languages = {
  en: {
    code: 'en',
    name: 'English',
    dir: 'ltr',
    texts: {
      // Homepage
      title: 'RetroGa',
      startGame: 'Start Game',
      leaderboard: 'Leaderboard',
      shop: 'Shop',
      skins: 'Skins',

      // Difficulty page
      chooseDifficulty: 'Choose a Game Mode',
      easy: 'Easy',
      medium: 'Medium',
      hard: 'Hard',
      back: 'Back',

      // Game screen
      moveInstructions: 'Use Arrow Keys or WASD to move the ship.',
      fireInstructions: '[Space] to fire.',

      // HUD (canvas)
      score: 'Score',
      lives: 'Lives',

      // Game Over (alert)
      gameOver: 'GAME OVER!',
      finalScore: 'Final Score',

      // Shop page
      shopHeader: 'RetroGa Shop',
      shopSubheader: 'Unlock new looks for your ship and the enemy fleet!',
      defaultSkin: 'Default',
      defaultDesc: 'Classic RetroGa style.',
      squarePack: 'Square Pack',
      squareDesc: 'Blocky vibes for ships and foes.',
      starPack: 'Star Pack',
      starDesc: 'Stellar shapes for ships and foes.',
      equip: 'Equip',
      equipped: 'Equipped',
      noSkins: 'No skins owned yet. Visit the shop!',

      // Skins library page
      skinsHeader: 'RetroGa Skins Library',
      skinsSubheader: 'Equip your favorite looks for ships and enemies!',
      backToShop: 'Back to Shop',
      backToHome: 'Back to Home',

      // Settings Modal
      settings: 'Settings',
      audioVolume: 'Audio Volume',
      sfxVolume: 'SFX Volume',
      language: 'Language',
      funModeLabel: 'Fun Mode (Chloe\'s Shooting Sound) Party',
      funModeOff: 'Have Some Fun!',
      funModeOn: 'Fun Mode ON!',
      close: 'Close',

      // Pause Menu
      paused: 'PAUSED',
      resume: 'Resume',
      restart: 'Restart',
      exitToMenu: 'Exit to Menu',
      confirmExit: 'Are you sure you want to exit? Progress will be lost.',
    },
  },

  es: {
    code: 'es',
    name: 'Español',
    dir: 'ltr',
    texts: {
      title: 'RetroGa',
      startGame: 'Iniciar Juego',
      leaderboard: 'Tabla de Líderes',
      shop: 'Tienda',
      skins: 'Skins',

      chooseDifficulty: 'Elige un Modo de Juego',
      easy: 'Fácil',
      medium: 'Medio',
      hard: 'Difícil',
      back: 'Atrás',

      moveInstructions: 'Usa las flechas o WASD para mover la nave.',
      fireInstructions: '[Espacio] para disparar.',

      score: 'Puntuación',
      lives: 'Vidas',

      gameOver: '¡JUEGO TERMINADO!',
      finalScore: 'Puntuación Final',

      shopHeader: 'Tienda RetroGa',
      shopSubheader: '¡Desbloquea nuevos diseños para tu nave y la flota enemiga!',
      defaultSkin: 'Predeterminado',
      defaultDesc: 'Estilo clásico RetroGa.',
      squarePack: 'Paquete Cuadrado',
      squareDesc: 'Vibras cuadradas para naves y enemigos.',
      starPack: 'Paquete Estrella',
      starDesc: 'Formas estelares para naves y enemigos.',
      equip: 'Equipar',
      equipped: 'Equipado',
      noSkins: 'Aún no tienes skins. ¡Visita la tienda!',

      skinsHeader: 'Biblioteca de Skins RetroGa',
      skinsSubheader: '¡Equipa tus diseños favoritos para naves y enemigos!',
      backToShop: 'Volver a la Tienda',
      backToHome: 'Volver al Inicio',

      settings: 'Ajustes',
      audioVolume: 'Volumen Música',
      sfxVolume: 'Volumen Efectos',
      language: 'Idioma',
      funModeLabel: 'Modo Diversión (Sonido de Disparo de Chloe) Fiesta',
      funModeOff: '¡A divertirse!', funModeOn: '¡Modo Diversión ON!',

      close: 'Cerrar',
      paused: 'PAUSADO',
      resume: 'Continuar',
      restart: 'Reiniciar',
      exitToMenu: 'Salir al Menú',
      confirmExit: '¿Seguro que quieres salir? Se perderá el progreso.',
    },
  },

  fr: {
    code: 'fr',
    name: 'Français',
    dir: 'ltr',
    texts: {
      title: 'RetroGa',
      startGame: 'Démarrer la Partie',
      leaderboard: 'Classement',
      shop: 'Boutique',
      skins: 'Apparences',

      chooseDifficulty: 'Choisissez un Mode de Jeu',
      easy: 'Facile',
      medium: 'Moyen',
      hard: 'Difficile',
      back: 'Retour',

      moveInstructions: 'Utilisez les flèches ou WASD pour déplacer le vaisseau.',
      fireInstructions: '[Espace] pour tirer.',

      score: 'Score',
      lives: 'Vies',

      gameOver: 'GAME OVER !',
      finalScore: 'Score Final',

      shopHeader: 'Boutique RetroGa',
      shopSubheader: 'Débloquez de nouveaux looks pour votre vaisseau et la flotte ennemie !',
      defaultSkin: 'Défaut',
      defaultDesc: 'Style classique RetroGa.',
      squarePack: 'Pack Carré',
      squareDesc: 'Style carré pour vaisseaux et ennemis.',
      starPack: 'Pack Étoile',
      starDesc: 'Formes étoilées pour vaisseaux et ennemis.',
      equip: 'Équiper',
      equipped: 'Équipé',
      noSkins: 'Aucune apparence possédée. Visitez la boutique !',

      skinsHeader: 'Bibliothèque d’Apparences RetroGa',
      skinsSubheader: 'Équipez vos looks préférés pour les vaisseaux et ennemis !',
      backToShop: 'Retour à la Boutique',
      backToHome: 'Retour à l’Accueil',

      settings: 'Paramètres',
      audioVolume: 'Volume Musique',
      sfxVolume: 'Volume Effets',
      language: 'Langue',
      funModeLabel: 'Mode Fun (Son Chloe) Party',
      funModeOff: 'Activer le Fun !',
      funModeOn: 'Mode Fun ON !',
      close: 'Fermer',

      paused: 'EN PAUSE',
      resume: 'Reprendre',
      restart: 'Recommencer',
      exitToMenu: 'Menu Principal',
      confirmExit: 'Quitter ? Progression perdue.',

    },
  },

  zh: {
    code: 'zh',
    name: '中文（简体）',
    dir: 'ltr',
    texts: {
      title: 'RetroGa',
      startGame: '开始游戏',
      leaderboard: '排行榜',
      shop: '商店',
      skins: '皮肤',

      chooseDifficulty: '选择游戏难度',
      easy: '简单',
      medium: '中等',
      hard: '困难',
      back: '返回',

      moveInstructions: '使用方向键或 WASD 移动飞船',
      fireInstructions: '[空格键] 射击',

      score: '分数',
      lives: '命',

      gameOver: '游戏结束！',
      finalScore: '最终得分',

      shopHeader: 'RetroGa 商店',
      shopSubheader: '解锁飞船与敌舰的新外观！',
      defaultSkin: '默认',
      defaultDesc: '经典 RetroGa 风格',
      squarePack: '方块包',
      squareDesc: '方块风格的飞船与敌人',
      starPack: '星星包',
      starDesc: '星形外观的飞船与敌人',
      equip: '装备',
      equipped: '已装备',
      noSkins: '还没有皮肤，去商店看看吧！',

      skinsHeader: 'RetroGa 皮肤库',
      skinsSubheader: '为飞船和敌舰装备你最喜欢的外观！',
      backToShop: '返回商店',
      backToHome: '返回主页',

      settings: '设置',
      audioVolume: '音乐音量',
      sfxVolume: '音效音量',
      language: '语言',
      funModeLabel: '娱乐模式（Chloe射击音效）派对',
      funModeOff: '来玩吧！',
      funModeOn: '娱乐模式已开启！',

      close: '关闭',
      paused: '暂停',
      resume: '继续游戏',
      restart: '重新开始',
      exitToMenu: '返回主菜单',
      confirmExit: '确定退出？进度将丢失。',
    },
  },
};

// ------------------------------------------------------------------
// 2. Helper functions
// ------------------------------------------------------------------
export function getCurrentLanguage() {
  const saved = localStorage.getItem('gameLanguage');
  return languages[saved] ? saved : 'en';
}

export function setLanguage(langCode) {
  if (languages[langCode]) {
    localStorage.setItem('gameLanguage', langCode);
    document.documentElement.lang = langCode;
    document.documentElement.dir = languages[langCode].dir;
    // Fire event so UI can update without reload
    window.dispatchEvent(new CustomEvent('languagechange'));
  }
}

// Quick getter for current texts (used everywhere)
export function t = (key) => {
  const lang = languages[getCurrentLanguage()]?.texts || languages.en.texts;
  return lang[key] ?? key; // fallback to key if missing
};