<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Asteroid Movement Test</title>
    <style>
        body {
            margin: 0;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas {
            background: #000;
            border: 1px solid #fff;
        }
    </style>
</head>
<body>
<canvas id="game" width="600" height="400"></canvas>
<script>
    const canvas = document.getElementById('game');
    const ctx = canvas.getContext('2d');

    // Asteroid class for our library
    class Asteroid {
        constructor(x, y, vx, vy, size = 20) {
            this.x = x;
            this.y = y;
            this.vx = vx; // pixels per frame
            this.vy = vy;
            this.size = size;
            this.rotation = 0;
            this.rotSpeed = (Math.random() - 0.5) * 0.1; // slight tumble
        }

        update() {
            this.x += this.vx;
            this.y += this.vy;
            this.rotation += this.rotSpeed;

            // Wrap around screen edges
            if (this.x > canvas.width + this.size) this.x = -this.size;
            if (this.x < -this.size) this.x = canvas.width + this.size;
            if (this.y > canvas.height + this.size) this.y = -this.size;
            if (this.y < -this.size) this.y = canvas.height + this.size;
        }

        draw() {
            ctx.save();
            ctx.translate(this.x, this.y);
            ctx.rotate(this.rotation);
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 2;
            ctx.beginPath();
            // Rough asteroid shape (jagged circle)
            for (let i = 0; i < 8; i++) {
                const angle = (i / 8) * Math.PI * 2;
                const r = this.size + Math.sin(angle * 3) * (this.size / 4);
                const px = Math.cos(angle) * r;
                const py = Math.sin(angle) * r;
                if (i === 0) ctx.moveTo(px, py);
                else ctx.lineTo(px, py);
            }
            ctx.closePath();
            ctx.stroke();
            ctx.restore();
        }
    }

    // Spawn a few asteroids
    const asteroids = [
        new Asteroid(100, 100, 1, 0.5),
        new Asteroid(400, 200, -0.8, 1.2),
        new Asteroid(300, 50, 0.5, -1)
    ];

    function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        asteroids.forEach(asteroid => {
            asteroid.update();
            asteroid.draw();
        });
        requestAnimationFrame(animate);
    }

    animate();
</script>
</body>
</html>