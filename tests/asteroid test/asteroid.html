<!DOCTYPE html>
<html>
<head>
    <title>Rect Demo</title>
    <style>
        body {
            margin: 0;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        canvas {
            background: #fff;
            border: 1px solid #000;
        }
    </style>
</head>
<body>
<canvas id="c" width="600" height="400"></canvas>
<script>
    const c = document.getElementById('c'),
        ctx = c.getContext('2d');

    class R {
        constructor(x, y, vx, vy, s = 20) {
            this.x = x;
            this.y = y;
            this.vx = vx;
            this.vy = vy;
            this.s = s;
        }
        update() {
            this.x += this.vx;
            this.y += this.vy;
            if (this.x > c.width + this.s) this.x = -this.s;
            if (this.x < -this.s) this.x = c.width + this.s;
            if (this.y > c.height + this.s) this.y = -this.s;
            if (this.y < -this.s) this.y = c.height + this.s;
        }
        draw() {
            ctx.fillStyle = '#f00';
            ctx.fillRect(this.x - this.s / 2, this.y - this.s / 2, this.s, this.s);
        }
    }

    const rs = [
        new R(100, 100, 1, .5),
        new R(400, 200, -.8, 1.2),
        new R(300, 50, .5, -1)
    ];

    const a = () => {
        ctx.clearRect(0, 0, c.width, c.height);
        rs.forEach(r => {
            r.update();
            r.draw();
        });
        requestAnimationFrame(a);
    };
    a();
</script>
</body>
</html>